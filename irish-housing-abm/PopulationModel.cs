using System;
using System.Linq;
using irish_housing_abm;

public class PopulationModel
{
    public int InitialPopulationSize { get; private set; }
    public double PopulationSexRatio { get; private set; }
    public int NetMigrationPerYear { get; private set; }
    public double MigrantSexRatio { get; private set; }
    public double FShortFemale { get; private set; }
    public double FShortMale { get; private set; }
    public double FLong { get; private set; }
    public double BirthTrend { get; private set; }

    public double[] InitialPopulationDistF { get; private set; }
    public double[] InitialPopulationDistM { get; private set; }
    public double[] NetMigrationAgeDistF { get; private set; }
    public double[] NetMigrationAgeDistM { get; private set; }
    public double[] MortalityF { get; private set; }
    public double[] MortalityM { get; private set; }
    public double[] BirthRate { get; private set; }
  

    public PopulationModel()
    {
        InitializeData();
    }

    private void InitializeData()
    {
        InitialPopulationSize = 4755000;
        PopulationSexRatio = 0.503;
        NetMigrationPerYear = 20000;
        MigrantSexRatio = 0.5;
        FShortFemale = 0.025;
        FShortMale = 0.03;
        FLong = 0.015;
        BirthTrend = -2.3 / 100;

        
        InitialPopulationDistF = new double[] { 0.012684644,
    0.013022288,
    0.01348237,
    0.013912783,
    0.014462709,
    0.014852588,
    0.014803696,
    0.014736,
    0.014641978,
    0.013630717,
    0.013196543,
    0.01292743,
    0.013115057,
    0.013001394,
    0.012840512,
    0.012478631,
    0.012428486,
    0.01236079,
    0.012401324,
    0.011699291,
    0.011456923,
    0.011210375,
    0.011179453,
    0.011120532,
    0.011479906,
    0.011855159,
    0.011901125,
    0.013070762,
    0.012876031,
    0.01360648,
    0.014769848,
    0.014766505,
    0.015610616,
    0.01651908,
    0.016812011,
    0.017345222,
    0.017602634,
    0.016507379,
    0.015744336,
    0.015334399,
    0.015365322,
    0.015107492,
    0.014950371,
    0.014898972,
    0.014603951,
    0.014654932,
    0.014002209,
    0.013186096,
    0.013153502,
    0.012884807,
    0.012981336,
    0.01300808,
    0.012690912,
    0.012415531,
    0.011911154,
    0.012001834,
    0.011556377,
    0.011300219,
    0.010980125,
    0.010617408,
    0.010381308,
    0.010278093,
    0.009790849,
    0.00985353,
    0.009307783,
    0.009074608,
    0.009116396,
    0.008777498,
    0.008531369,
    0.008181606,
    0.007899539,
    0.007240548,
    0.006777958,
    0.006425688,
    0.005734938,
    0.005468333,
    0.005348403,
    0.005143225,
    0.004773822,
    0.004614611,
    0.004394808,
    0.004144082,
    0.003852404,
    0.003437035,
    0.003198845,
    0.002948119,
    0.002649338,
    0.002337602,
    0.002009151,
    0.001791019,
    0.001544054,
    0.001274106,
    0.001024216,
    0.000827814,
    0.000642694,
    0.000485155,
    0.000369403,
    0.000225653,
    0.000148764,
    0.000256994
 };
        InitialPopulationDistM = new double[] { 0.013574846,
    0.013974582,
    0.014487677,
    0.014841388,
    0.015437157,
    0.015689443,
    0.015783624,
    0.015683477,
    0.015520258,
    0.014610837,
    0.014114788,
    0.014075156,
    0.013989072,
    0.013746161,
    0.013587204,
    0.01332256,
    0.013284206,
    0.013374978,
    0.013332362,
    0.012473653,
    0.012140397,
    0.011776884,
    0.011686538,
    0.011722762,
    0.011646906,
    0.012315122,
    0.011827171,
    0.012892993,
    0.012088832,
    0.012743837,
    0.013881254,
    0.013922165,
    0.01454947,
    0.015271382,
    0.015888033,
    0.016944053,
    0.017400042,
    0.01594045,
    0.015637878,
    0.015285019,
    0.015536452,
    0.015189133,
    0.015014835,
    0.015068957,
    0.014693937,
    0.014979463,
    0.014242636,
    0.013601268,
    0.013325117,
    0.01309073,
    0.013086468,
    0.012932625,
    0.012587437,
    0.012313417,
    0.012010845,
    0.012004026,
    0.011477295,
    0.011509257,
    0.010954399,
    0.010781378,
    0.010500966,
    0.010340731,
    0.009923522,
    0.009952074,
    0.009461566,
    0.00929579,
    0.008988104,
    0.008845341,
    0.008678713,
    0.008272584,
    0.007858359,
    0.007143691,
    0.006677048,
    0.006132844,
    0.00557756,
    0.005110916,
    0.004940879,
    0.004589725,
    0.004207035,
    0.003958584,
    0.003663257,
    0.003318921,
    0.002990779,
    0.002627692,
    0.002285913,
    0.002058771,
    0.001683751,
    0.001347939,
    0.001089687,
    0.000901751,
    0.000710406,
    0.000562955,
    0.00041039,
    0.000317914,
    0.000222881,
    0.000164923,
    0.000135092,
    8.10e-05,
    3.96e-05,
    6.61e-05
 };
        NetMigrationAgeDistF = new double[] {  0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.009789474,
    0.0437,
    0.0437,
    0.0437,
    0.0437,
    0.0437,
    0.0437,
    0.0437,
    0.0437,
    0.0437,
    0.0437,
    0.0206,
    0.0206,
    0.0206,
    0.0206,
    0.0206,
    0.0206,
    0.0206,
    0.0206,
    0.0206,
    0.0206,
    0.0073,
    0.0073,
    0.0073,
    0.0073,
    0.0073,
    0.0073,
    0.0073,
    0.0073,
    0.0073,
    0.0073,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.0024,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667,
    0.001666667 };
        NetMigrationAgeDistM = new double[] { 0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.009631579,
    0.0377,
    0.0377,
    0.0377,
    0.0377,
    0.0377,
    0.0377,
    0.0377,
    0.0377,
    0.0377,
    0.0377,
    0.025,
    0.025,
    0.025,
    0.025,
    0.025,
    0.025,
    0.025,
    0.025,
    0.025,
    0.025,
    0.0077,
    0.0077,
    0.0077,
    0.0077,
    0.0077,
    0.0077,
    0.0077,
    0.0077,
    0.0077,
    0.0077,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.0027,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667,
    0.001966667 };
        MortalityF = new double[] { 0.00329021,
    0.00067768,
    8.90E-05,
    6.27E-05,
    6.62E-05,
    7.64E-05,
    7.22E-05,
    5.76E-05,
    4.95E-05,
    4.76E-05,
    5.01E-05,
    5.67E-05,
    6.79E-05,
    8.43E-05,
    0.00010669,
    0.00013494,
    0.00016755,
    0.00020048,
    0.00022696,
    0.00023867,
    0.00023288,
    0.00021928,
    0.00020844,
    0.00020925,
    0.00023206,
    0.00028166,
    0.00029827,
    0.00024517,
    0.00023316,
    0.00025599,
    0.00028726,
    0.00032159,
    0.0003592,
    0.00040035,
    0.00044528,
    0.00049429,
    0.00054769,
    0.00060581,
    0.000669,
    0.00073767,
    0.00081224,
    0.0008932,
    0.00098106,
    0.00107639,
    0.00117985,
    0.00129214,
    0.00141406,
    0.00154649,
    0.00169041,
    0.00184695,
    0.00201734,
    0.002203,
    0.0024055,
    0.00262665,
    0.00286847,
    0.00313326,
    0.00342364,
    0.00374259,
    0.00409351,
    0.00448027,
    0.00490733,
    0.00537978,
    0.0059035,
    0.00648522,
    0.00713274,
    0.00785509,
    0.0086627,
    0.0095677,
    0.01058422,
    0.01172873,
    0.01302048,
    0.01448204,
    0.01613991,
    0.01802525,
    0.02017484,
    0.02263211,
    0.02544851,
    0.02868506,
    0.03241428,
    0.03672246,
    0.04170456,
    0.04744857,
    0.05404413,
    0.06158239,
    0.07015253,
    0.07983711,
    0.09070642,
    0.10281166,
    0.11617723,
    0.13079261,
    0.14660408,
    0.1635073,
    0.18134133,
    0.19988514,
    0.2188573,
    0.23791952,
    0.25668423,
    0.27472613,
    0.29159681,
    1
 };
        MortalityM = new double[] { 0.00379014,
    0.00034918,
    0.00010843,
    7.37E-05,
    8.23E-05,
    0.00010263,
    0.00011196,
    0.0001086,
    9.81E-05,
    8.65E-05,
    7.81E-05,
    7.54E-05,
    8.19E-05,
    0.00010451,
    0.0001565,
    0.00023301,
    0.00032866,
    0.0004402,
    0.00056113,
    0.00068233,
    0.00079329,
    0.00088386,
    0.00094587,
    0.00097449,
    0.00096877,
    0.00093142,
    0.00086807,
    0.00079885,
    0.00077489,
    0.00079558,
    0.00082761,
    0.00086332,
    0.00090302,
    0.00094708,
    0.00099589,
    0.0010499,
    0.00110961,
    0.0011756,
    0.00124849,
    0.00132901,
    0.00141796,
    0.00151623,
    0.00162485,
    0.00174493,
    0.00187776,
    0.00202476,
    0.00218754,
    0.00236788,
    0.00256781,
    0.00278959,
    0.00303577,
    0.0033092,
    0.00361308,
    0.00395103,
    0.00432707,
    0.00474576,
    0.00521218,
    0.00573206,
    0.00631181,
    0.00695864,
    0.0076806,
    0.00848676,
    0.00938724,
    0.01039338,
    0.01151787,
    0.01277488,
    0.01418025,
    0.01575163,
    0.01750868,
    0.01947326,
    0.02166966,
    0.02412482,
    0.0268685,
    0.02993361,
    0.03335637,
    0.03717654,
    0.04143771,
    0.04618738,
    0.05147726,
    0.05736325,
    0.06390562,
    0.07116888,
    0.07922174,
    0.08813676,
    0.09799,
    0.10886036,
    0.12082873,
    0.13397686,
    0.14838593,
    0.16413475,
    0.18129754,
    0.19994125,
    0.22012245,
    0.24188361,
    0.2652488,
    0.29021876,
    0.31676523,
    0.34482447,
    0.3675317,
    1 };
        BirthRate = new double[] {  0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0.0124,
    0.0124,
    0.0124,
    0.0124,
    0.0124,
    0.0495,
    0.0495,
    0.0495,
    0.0495,
    0.0495,
    0.0897,
    0.0897,
    0.0897,
    0.0897,
    0.0897,
    0.1353,
    0.1353,
    0.1353,
    0.1353,
    0.1353,
    0.0981,
    0.0981,
    0.0981,
    0.0981,
    0.0981,
    0.0224,
    0.0224,
    0.0224,
    0.0224,
    0.0224,
    0.0012,
    0.0012,
    0.0012,
    0.0012,
    0.0012,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0 };
        
    }

    public int GetInitialPopulation(bool isFemale, int ageGroup)
    {
        double[] distribution = isFemale ? InitialPopulationDistF : InitialPopulationDistM;
        return (int)(InitialPopulationSize * distribution[ageGroup]);
    }

    public double GetMortalityRate(bool isFemale, int ageGroup)
    {
        double[] mortality = isFemale ? MortalityF : MortalityM;
        return mortality[ageGroup];
    }

    public double GetBirthRate(int ageGroup)
    {
        return BirthRate[ageGroup];
    }

    public double GetNetMigrationAgeDist(bool isFemale, int ageGroup)
    {
        double[] distribution = isFemale ? NetMigrationAgeDistF : NetMigrationAgeDistM;
        return distribution[ageGroup];
    }
}